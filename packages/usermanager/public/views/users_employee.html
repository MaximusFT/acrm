<!-- START CONTENT FRAME TOP -->
<div class="content-frame-top">                        
    <div class="page-title">                    
        <h2><span class="fa fa-arrow-circle-o-left"></span> User Manager - Employee</h2>
    </div>                                      
    <div class="pull-right">
        <button class="btn btn-default content-frame-left-toggle"><span class="fa fa-bars"></span></button>
    </div>                        
</div>
<!-- END CONTENT FRAME TOP -->

<!-- START CONTENT FRAME LEFT -->
<div class="content-frame-left content-frame-fixed">
    
    <div class="panel panel-default">
        <div class="panel-heading">Control panel</div>
        <div class="panel-body">
            <div class="form-group">
                <input class="form-control" type="text" placeholder="Search" ng-model="search">
            </div>
        </div>
    </div>

</div>
<!-- END CONTENT FRAME LEFT -->

<!-- START CONTENT FRAME BODY -->
<div class="content-frame-body">
    
    <div class="loader" data-ng-init="init()" data-ng-hide="departments.length"></div>
    
    <div class="panel panel-default tabs">                            
        <ul class="nav nav-tabs" role="tablist">
            <li class="active"><a href="#tab-first" role="tab" data-toggle="tab">Users</a></li>
            <li><a href="#tab-second" role="tab" data-toggle="tab">test</a></li>
        </ul>
        <div class="panel-body tab-content">
            <div class="tab-pane active" id="tab-first">
                <div cg-busy="{promise:getHttp1,message:'Loading. Please wait...',backdrop:false,delay:300,minDuration:700}">
                    <div data-ng-repeat="department in departments">
                        <h2 data-ng-show="department.users.length">{{department.department}}</h2>
                        <table class="table table-striped table-bordered table-hover editable-table" data-ng-show="department.users.length">
                            <tr>
                                <th data-ng-show="edit">Edit</th>
                                <th>#</th>
                                <th data-ng-repeat="field in userSchema" data-ng-if="field.inTable">{{field.title}}</th>
                                <th>Role</th>
                            </tr>
                            <tr data-ng-repeat="user in department.users | filter:search:strict">
                                <td data-ng-show="edit">
                                    <button class="glyphicon glyphicon-trash" data-ng-click="remove(user)" value="del"><i class="icon-trash icon-white"></i></button>
                                </td>
                                <td>
                                    <a href="#!/users/{{user['username']}}">#</a>
                                </td>
                                <td class="table-editable-cell" data-ng-repeat="field in userSchema" data-ng-if="field.inTable">
                                    <span>{{user[field['schemaKey']]}}</span>
                                </td>
                                <td style="text-align:center;font-weight:bold;">{{user.roles}}</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="tab-pane" id="tab-second"> test </div>                                        
        </div>
    </div>

</div>
<!-- END CONTENT FRAME BODY -->